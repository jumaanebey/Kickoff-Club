
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kickoff Club - AI Video Creator</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .container {
            width: 90%;
            max-width: 1200px;
            padding: 40px;
        }
        h1 {
            font-size: 48px;
            margin-bottom: 30px;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .video-area {
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 40px;
            backdrop-filter: blur(10px);
            margin-bottom: 30px;
        }
        .script-display {
            font-size: 28px;
            line-height: 1.8;
            min-height: 200px;
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        button {
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            background: white;
            color: #667eea;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        #webcam, #recordedVideo {
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
            display: block;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }
        .recording-indicator {
            display: none;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            font-size: 20px;
        }
        .recording-indicator.active {
            display: flex;
        }
        .record-dot {
            width: 15px;
            height: 15px;
            background: #ff0000;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }
        .timer {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé¨ Kickoff Club Video Creator</h1>
        
        <div class="video-area">
            <div id="scriptDisplay" class="script-display">
                Click "Start Teleprompter" to begin
            </div>
            
            <video id="webcam" autoplay muted playsinline style="display: none;"></video>
            <video id="recordedVideo" controls style="display: none;"></video>
            
            <div class="timer" id="timer"></div>
            
            <div class="recording-indicator" id="recordingIndicator">
                <div class="record-dot"></div>
                <span>Recording in progress...</span>
            </div>
            
            <div class="controls">
                <button onclick="startTeleprompter()">üìù Start Teleprompter</button>
                <button onclick="startWebcam()">üì∑ Start Webcam</button>
                <button onclick="startRecording()" id="recordBtn">üî¥ Record Video</button>
                <button onclick="stopRecording()" id="stopBtn" disabled>‚èπÔ∏è Stop Recording</button>
                <button onclick="downloadVideo()" id="downloadBtn" disabled>üíæ Download Video</button>
            </div>
        </div>
    </div>

    <script>
        // Full script content
        const fullScript = `[HOOK - 0:00-0:03]
Want to know why they keep saying '3rd and long'? Love the vibe. Learn the game. Ninety seconds ‚Äî you'll totally get it.

[BIG PICTURE - 0:03-0:15]
Here's the deal: a 'down' is just one attempt to move the football forward. Teams get exactly four downs to move ten yards. That's it. Think of it like having four tries to walk across your living room.

[FIRST DOWN MAGIC - 0:15-0:35]
When you see '1st & 10' on screen, it means: first attempt, need ten yards. If they get those ten yards before using up all four tries, boom - they get four fresh attempts. It's like getting extra lives in a video game.

[THE DRAMA OF 3RD DOWN - 0:35-0:55]
Here's where it gets exciting. If they didn't get ten yards in two tries, it's 3rd down. This is crunch time! Coaches get creative - quick passes, trick plays, whatever it takes. You'll feel the tension.

[4TH DOWN DECISIONS - 0:55-1:20]
4th down? Decision time. Teams usually punt - kick it away safely. But sometimes they go for it anyway! Or try a field goal. The crowd goes wild because everyone knows: this is do-or-die.

[YOU'VE GOT THIS - 1:20-1:30]
That's it! Four tries, ten yards. Now when someone says '3rd and long', you'll know exactly why everyone's holding their breath. See? You're already getting it.

[CLOSING - Final 5 seconds]
You just learned how downs work! That wasn't so scary, right? Keep the momentum going - there's so much more to discover.

`;
        const sections = fullScript.split(/\[.*?\]/g).filter(s => s.trim());
        let currentSection = 0;
        let teleprompterInterval;
        let mediaRecorder;
        let recordedChunks = [];
        let stream;
        let timerInterval;
        let seconds = 0;
        
        // Teleprompter function
        function startTeleprompter() {
            currentSection = 0;
            showNextSection();
            
            function showNextSection() {
                const display = document.getElementById('scriptDisplay');
                
                if (currentSection < sections.length) {
                    display.style.opacity = '0';
                    setTimeout(() => {
                        display.textContent = sections[currentSection].trim();
                        display.style.opacity = '1';
                        display.style.transition = 'opacity 0.5s';
                        currentSection++;
                        
                        // Auto-advance every 15 seconds
                        teleprompterInterval = setTimeout(showNextSection, 15000);
                    }, 300);
                } else {
                    display.textContent = "üéâ Video Complete! Great job!";
                    currentSection = 0;
                }
            }
        }
        
        // Webcam functions
        async function startWebcam() {
            try {
                stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { width: 1280, height: 720 },
                    audio: true 
                });
                const video = document.getElementById('webcam');
                video.srcObject = stream;
                video.style.display = 'block';
                document.getElementById('recordBtn').disabled = false;
            } catch (err) {
                alert('Please allow camera and microphone access');
                console.error(err);
            }
        }
        
        // Recording functions
        function startRecording() {
            if (!stream) {
                alert('Please start webcam first');
                return;
            }
            
            recordedChunks = [];
            mediaRecorder = new MediaRecorder(stream, {
                mimeType: 'video/webm;codecs=vp9'
            });
            
            mediaRecorder.ondataavailable = event => {
                if (event.data.size > 0) {
                    recordedChunks.push(event.data);
                }
            };
            
            mediaRecorder.onstop = () => {
                const blob = new Blob(recordedChunks, { type: 'video/webm' });
                const url = URL.createObjectURL(blob);
                const video = document.getElementById('recordedVideo');
                video.src = url;
                video.style.display = 'block';
                document.getElementById('webcam').style.display = 'none';
                document.getElementById('downloadBtn').disabled = false;
            };
            
            mediaRecorder.start();
            
            // Start teleprompter automatically
            startTeleprompter();
            
            // Update UI
            document.getElementById('recordBtn').disabled = true;
            document.getElementById('stopBtn').disabled = false;
            document.getElementById('recordingIndicator').classList.add('active');
            
            // Start timer
            seconds = 0;
            updateTimer();
            timerInterval = setInterval(() => {
                seconds++;
                updateTimer();
            }, 1000);
        }
        
        function stopRecording() {
            if (mediaRecorder && mediaRecorder.state !== 'inactive') {
                mediaRecorder.stop();
                clearTimeout(teleprompterInterval);
                clearInterval(timerInterval);
                
                // Update UI
                document.getElementById('recordBtn').disabled = false;
                document.getElementById('stopBtn').disabled = true;
                document.getElementById('recordingIndicator').classList.remove('active');
            }
        }
        
        function updateTimer() {
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            document.getElementById('timer').textContent = 
                `Recording Time: ${minutes}:${secs.toString().padStart(2, '0')}`;
        }
        
        function downloadVideo() {
            const video = document.getElementById('recordedVideo');
            if (video.src) {
                const a = document.createElement('a');
                a.href = video.src;
                a.download = 'kickoff-club-how-downs-work.webm';
                a.click();
            }
        }
        
        // Auto-focus
        window.onload = () => {
            document.getElementById('scriptDisplay').textContent = 
                "Ready to create your video! Start with the teleprompter or webcam.";
        };
    </script>
</body>
</html>
